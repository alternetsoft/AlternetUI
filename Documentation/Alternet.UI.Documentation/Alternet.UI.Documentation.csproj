<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net462</TargetFramework>
  </PropertyGroup>
  <PropertyGroup>
      <DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
  </PropertyGroup>
  <ItemGroup>
    <Compile Remove="utils\**" />
    <EmbeddedResource Remove="utils\**" />
    <None Remove="utils\**" />
  </ItemGroup>
  <PropertyGroup>
    <DefaultItemExcludes>$(DefaultItemExcludes);**\examples\**\*; **\examples</DefaultItemExcludes>
  </PropertyGroup>

  <ItemGroup>
    <None Remove=".gitignore" />
    <None Remove="Build.bat" />
    <None Remove="Deploy.bat" />
    <None Remove="log.txt" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="memberpage" Version="2.58.4" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="articles\" />
    <Folder Include="how-to-guides\debugging-with-alternet-ui-sources\images\" />
    <None Include="**\*.cs; **\*.uixml; apidoc\**\*.csproj" />
    <None Remove="site\**" />
    <None Remove="obj\**" />
  </ItemGroup>
  <Target Name="CopyMemberpage" AfterTargets="Build" Condition="!Exists('$(ProjectDir)\templates\memberpage')">
    <Exec Command="xcopy $(USERPROFILE)\.nuget\packages\memberpage\2.58.4\content $(ProjectDir)\templates\memberpage /E /H /C /I /Y" />
  </Target>
  <Target Name="RestoreDocFx" AfterTargets="Build" Condition="!Exists('$(USERPROFILE)\.nuget\packages\docfx.console\2.58.4')">
    <Exec Command="dotnet restore $(ProjectDir)\utils\DocFXInstaller\DocFXInstaller.csproj" />
  </Target>
  <Target Name="BuildDocumentation" AfterTargets="Build">
    <Exec Command="$(USERPROFILE)\.nuget\packages\docfx.console\2.58.4\tools\docfx.exe" />
  </Target>

</Project>